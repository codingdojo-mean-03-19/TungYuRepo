<section>
  <h1>Book-IT</h1>
  <fieldset class="scheduler-border">
    <legend class="scheduler-border">Create Book</legend>

    <!-- {{ bookForm.valid | json }} -->

    <form (submit)="onSubmit($event, bookForm)" #bookForm = 'ngForm'>
      <div class='form-group'>
        <label for="">Title</label>
        <input class='form-control' type="text" name="title"
          [(ngModel)]='book.title'
          required
          #title='ngModel'
          minlength='3'>

        <div *ngIf='(title.touched || title.dirty) && title.errors'>
          <div *ngIf='title.errors.required'>
            You must enter a title.
          </div>
          <div *ngIf='title.errors.minlength'>
            Title must be more than {{ title.errors.minlength.requiredLength}} characters. {{ title.errors.minlength.actualLength }} characters is not enough.
          </div>
        </div>
      </div>
      <div  class=form-group>
        <label for="">Author</label>
        <input class='form-control' type="text" name="author"
          [(ngModel)]='book.author'
          required
          #author='ngModel'
          minlength='3'>

        <div *ngIf='(author.touched || author.dirty) && author.errors'>
          <div *ngIf='author.errors.required'>
            You must enter a author.
          </div>
          <div *ngIf='author.errors.minlength'>
            Author must be more than {{ author.errors.minlength.requiredLength}} characters. {{ author.errors.minlength.actualLength }} characters is not enough.
          </div>
        </div>
      </div>
      <div class=form-group>
        <label for="">Year</label>
        <input class='form-control' type="number" name="year" [(ngModel)]='book.year'  #year='ngModel'
          min='1800'
          max='2018'
          required>

        <div *ngIf='year.touched && year.errors'>
          <div *ngIf='year.min'>
            {{ year.min | json}}
          </div>
        </div>
      </div>
      <div class=form-group>
        <label for="">Pages</label>
        <input class='form-control' type="number" name="pages" [(ngModel)]='book.pages'
          min='1'
          required>
      </div>
      <div class=form-group>
        <label for="">Publisher</label>
        <input class='form-control' type="text" name="publisher" [(ngModel)]='book.publisher'
          required
          #publisher='ngModel'
          minlength="3">

        <div *ngIf='(publisher.touched || publisher.dirty) && publisher.errors'>
          <div *ngIf='publisher.errors.required'>
            You must enter a publisher
          </div>
        </div>
      </div>
      <button *ngIf='bookForm.valid' class="btn btn-success float-right" >Submit</button>
    </form>
  </fieldset>
</section>
